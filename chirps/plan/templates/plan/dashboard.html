{% extends 'base.html' %}
{% block title %}Plans{% endblock %}

{% block content %}

<div class="d-flex">
    <h1 class="my-auto ml-0 mr-auto text-success">Plans</h1>
    <a class="btn btn-primary my-auto ml-auto mr-0" href="{% url 'plan_create' %}">New Plan</a>
</div>
<hr>

<!-- tab navs -->
<ul class="nav nav-tabs mb-3" id="ex1" role="tablist">
    <li class="nav-item" role="presentation">
        <a class="nav-link active" id="tab-1" data-bs-toggle="tab" href="#tabs-1" role="tab" aria-controls="tabs-1" aria-selected="true">Custom</a>
    </li>
    <li class="nav-item" role="presentation">
        <a class="nav-link" id="tab-2" data-bs-toggle="tab" href="#tabs-2" role="tab" aria-controls="tabs-2" aria-selected="false">Templates</a>
    </li>
</ul>
<!-- tab navs -->

<div class="tab-content" id="panel-content">

    <div class="tab-pane fade show active" id="tabs-1" role="tabpanel" aria-labelledby="tab-1">
        <div class="accordion" id="custom-panel-accordion">
            {% include 'plan/dashboard_plan_list.html' with plan_list=user_plans %}
        </div>
    </div>

    <div class="tab-pane fade" id="tabs-2" role="tabpanel" aria-labelledby="tab-2">
        <div class="accordion" id="template-panel-accordion">
            {% include 'plan/dashboard_plan_list.html' with plan_list=templates %}
        </div>
    </div>
</div>

<script>
    document.body.addEventListener('htmx:configRequest', (event) => {
        event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
    })
</script>
{% endblock %}
